<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hacker Matematik - Utkan & Gemini</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body { background-color: black; color: #0f0; font-family: 'Courier New', Courier, monospace; margin: 0; overflow: hidden; display: flex; justify-content: center; align-items: center; height: 100vh; }
        #matrix-canvas { position: fixed; top: 0; left: 0; z-index: -1; }
        
        /* İLK AÇILIŞ EKRANI */
        #loading-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; display: flex; justify-content: center; align-items: center;
            z-index: 10000; color: #0f0; font-size: 25px; text-align: center;
        }

        #secret-trigger { position: absolute; top: 10px; right: 15px; font-size: 10px; color: #002200; cursor: pointer; z-index: 100; }
        .container { background: rgba(0, 15, 0, 0.95); border: 2px solid #0f0; padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 0 30px #0f0; width: 85%; max-width: 450px; z-index: 1; }
        
        #prank-message { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 30, 0, 0.95); display: none; flex-direction: column; justify-content: center; align-items: center; z-index: 9999; color: white; text-align: center; }
        #big-smile { font-size: 150px; color: #ff0; text-shadow: 0 0 30px #ff0; }

        .level-tag { color: #ff0; font-weight: bold; margin-bottom: 10px; display: block; border: 1px solid #ff0; padding: 5px; }
        button { background: transparent; color: #0f0; border: 2px solid #0f0; padding: 12px 20px; cursor: pointer; width: 100%; margin-top: 15px; font-family: 'Courier New'; font-size: 16px; }
        button:hover { background: #0f0; color: black; }
        input { background: black; border: 1px solid #0f0; color: #0f0; padding: 12px; font-size: 22px; text-align: center; width: 80%; outline: none; }
        .hidden { display: none; }
        @keyframes fadeOut { from {opacity: 1;} to {opacity: 0;} }
    </style>
</head>
<body>

    <canvas id="matrix-canvas"></canvas>

    <div id="loading-screen">
        <h1 id="splash-text">Bunu Utkan ve Gemini yaptı :)</h1>
    </div>

    <div id="prank-message">
        <div style="font-size: 30px;">Merak etmeyin korkmayın<br>Bu sadece bir matematik oyunu</div>
        <div id="big-smile">:)</div>
    </div>

    <div id="secret-trigger" onclick="openSecretPanel()">[ ENCRYPTED ]</div>

    <div id="intro" class="container hidden">
        <h1>> SİSTEME GİRİŞ YAPILIYOR...</h1>
        <p>100 Katmanlı Matematik Güvenlik Protokolü</p>
        <button onclick="startGame()">PROTOKOLÜ BAŞLAT</button>
    </div>

    <div id="game" class="container hidden">
        <span id="level-indicator" class="level-tag">KATMAN: 1 / 100</span>
        <h2 id="question-text">Yükleniyor...</h2>
        <input type="text" id="answer-input" placeholder="Şifre?" onkeydown="if(event.key==='Enter') checkAnswer()">
        <button onclick="checkAnswer()">VERİYİ DOĞRULA</button>
    </div>

    <div id="final-screen" class="container hidden">
        <h1>SİSTEM ELE GEÇİRİLDİ ✅</h1>
        <button onclick="location.reload()">SİSTEMİ YENİDEN BAŞLAT</button>
    </div>

    <script>
        // Açılış ekranı animasyonu (3 saniye sonra oyun gelir)
        setTimeout(() => {
            const ls = document.getElementById('loading-screen');
            ls.style.animation = "fadeOut 1s forwards";
            setTimeout(() => {
                ls.style.display = "none";
                document.getElementById('intro').classList.remove('hidden');
            }, 1000);
        }, 3000);

        // 15 Saniye Şakası (Gülücük)
        setTimeout(() => {
            const prank = document.getElementById('prank-message');
            prank.style.display = 'flex';
            setTimeout(() => { prank.style.display = 'none'; }, 6000);
        }, 15000);

        // Matrix Arkaplan
        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        const drops = Array(Math.floor(canvas.width / 16)).fill(1);
        function drawMatrix() {
            ctx.fillStyle = "rgba(0, 0, 0, 0.1)"; ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#0f0";
            drops.forEach((y, i) => {
                ctx.fillText(Math.floor(Math.random()*2), i * 16, y * 16);
                if (y * 16 > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        }
        setInterval(drawMatrix, 40);

        let currentLevel = 1;
        let currentAnswer = 0;

        function generateQuestion() {
            let num1, num2, op;
            if (currentLevel <= 30) {
                num1 = Math.floor(Math.random() * 40) + 10;
                num2 = Math.floor(Math.random() * 40) + 5;
                op = Math.random() > 0.5 ? "+" : "-";
                currentAnswer = op === "+" ? num1 + num2 : num1 - num2;
            } else {
                num1 = Math.floor(Math.random() * 12) + 2;
                num2 = Math.floor(Math.random() * 10) + 2;
                op = "x";
                currentAnswer = num1 * num2;
            }
            document.getElementById('level-indicator').innerText = "KATMAN: " + currentLevel + " / 100";
            document.getElementById('question-text').innerText = num1 + " " + op + " " + num2 + " ?";
        }

        function startGame() {
            document.getElementById('intro').classList.add('hidden');
            document.getElementById('game').classList.remove('hidden');
            generateQuestion();
        }

        function checkAnswer() {
            const val = document.getElementById('answer-input').value;
            if (val === "2016") { finishGame(); return; }
            if (val == currentAnswer || val === "-0") {
                if (currentLevel >= 100) {
                    finishGame();
                } else {
                    currentLevel++;
                    generateQuestion();
                    document.getElementById('answer-input').value = "";
                }
            }
        }

        function finishGame() {
            document.getElementById('game').classList.add('hidden');
            document.getElementById('final-screen').classList.remove('hidden');
            confetti({ particleCount: 200, spread: 90 });
        }

        function openSecretPanel() {
            let code = prompt("KOD:");
            if (code === "2015") { currentLevel = 70; generateQuestion(); startGame(); }
            if (code === "2014") { currentLevel = 1; generateQuestion(); startGame(); }
        }
    </script>
</body>
</html>
