<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hacker Matematik - Troll Edition v2</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body { background-color: black; color: #0f0; font-family: 'Courier New', Courier, monospace; margin: 0; overflow: hidden; display: flex; justify-content: center; align-items: center; height: 100vh; transition: background-color 0.2s; }
        #matrix-canvas { position: fixed; top: 0; left: 0; z-index: -1; }
        #secret-trigger { position: absolute; top: 10px; right: 15px; font-size: 10px; color: #002200; cursor: pointer; z-index: 100; user-select: none; }
        #secret-trigger:hover { color: #0f0; }
        
        .container { background: rgba(0, 15, 0, 0.95); border: 2px solid #0f0; padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 0 30px #0f0; width: 85%; max-width: 450px; z-index: 1; position: relative; }
        
        /* DEV GÜLÜCÜKLÜ ŞAKA MESAJI */
        #prank-message {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 30, 0, 0.95); display: none;
            flex-direction: column; justify-content: center; align-items: center;
            z-index: 9999; color: white; text-align: center; padding: 20px;
        }
        #prank-text { font-size: 30px; margin-bottom: 20px; font-weight: bold; }
        #big-smile { font-size: 150px; color: #ff0; text-shadow: 0 0 30px #ff0; }

        .level-tag { color: #ff0; font-weight: bold; margin-bottom: 10px; display: block; border: 1px solid #ff0; padding: 5px; }
        button { background: transparent; color: #0f0; border: 2px solid #0f0; padding: 12px 20px; font-size: 16px; cursor: pointer; font-family: 'Courier New', Courier, monospace; margin-top: 15px; width: 100%; }
        button:hover { background: #0f0; color: black; }
        input { background: black; border: 1px solid #0f0; color: #0f0; padding: 12px; font-size: 22px; text-align: center; width: 80%; outline: none; }
        .hidden { display: none; }
        .exit-btn { border-color: #ff0000; color: #ff0000; margin-top: 25px; }
        @keyframes shake { 0%{transform:translate(1px,1px)} 20%{transform:translate(-3px,0px)} 40%{transform:translate(3px,2px)} 60%{transform:translate(-3px,1px)} 80%{transform:translate(3px,-1px)} 100%{transform:translate(1px,-2px)} }
        .shake { animation: shake 0.3s; }
    </style>
</head>
<body>

    <canvas id="matrix-canvas"></canvas>

    <div id="prank-message">
        <div id="prank-text">Merak etmeyin korkmayın<br>Bu sadece bir matematik oyunu</div>
        <div id="big-smile">:)</div>
    </div>

    <div id="secret-trigger" onclick="openSecretPanel()">[ ENCRYPTED ]</div>

    <div id="intro" class="container">
        <h1>> SİSTEME SIZILIYOR...</h1>
        <p>Hile: -0 | Ultra: 2015 | Normal: 2014</p>
        <button onclick="startGame()">SİSTEMİ BAŞLAT</button>
    </div>

    <div id="game" class="container hidden">
        <span id="level-indicator" class="level-tag">SEVİYE: 1</span>
        <h2 id="question-text">...</h2>
        <input type="text" id="answer-input" placeholder="Şifre?" onkeydown="if(event.key==='Enter') checkAnswer()">
        <p id="feedback"></p>
        <button onclick="checkAnswer()">VERİYİ DOĞRULA</button>
    </div>

    <div id="final-screen" class="container hidden">
        <h1>ERİŞİM SAĞLANDI ✅</h1>
        <button class="exit-btn" onclick="exitSystem()">SİSTEMİ İMHA ET VE ÇIK</button>
    </div>

    <script>
        // 15 Saniye sonra dev gülücük çıkar
        setTimeout(() => {
            const prank = document.getElementById('prank-message');
            prank.style.display = 'flex';
            // 6 saniye ekranda kalsın
            setTimeout(() => { prank.style.display = 'none'; }, 6000);
        }, 15000);

        const synth = window.speechSynthesis;
        function playSound(text) {
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = 'en-US'; utter.rate = 1.1; utter.pitch = 0.5;
            synth.speak(utter);
        }

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function beep(freq, dur) {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            osc.frequency.value = freq;
            osc.start();
            setTimeout(() => osc.stop(), dur);
        }

        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        const drops = Array(Math.floor(canvas.width / 16)).fill(1);
        function drawMatrix() {
            ctx.fillStyle = "rgba(0, 0, 0, 0.1)"; ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#0f0"; ctx.font = "15px monospace";
            drops.forEach((y, i) => {
                ctx.fillText(Math.floor(Math.random()*2), i * 16, y * 16);
                if (y * 16 > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        }
        setInterval(drawMatrix, 40);

        let currentIdx = 0;
        let questions = [];
        const normalQuestions = [
            { q: "40 x 5 ?", a: "200", l: "GÜVENLİK 1" },
            { q: "900 / 3 ?", a: "300", l: "GÜVENLİK 2" },
            { q: "120 + 380 ?", a: "500", l: "GÜVENLİK 3" }
        ];
        const ultraQuestions = [
            { q: "25 x 25 ?", a: "625", l: "ULTRA HACKER 1" },
            { q: "10000 / 4 ?", a: "2500", l: "ULTRA HACKER 2" }
        ];

        questions = normalQuestions;

        function startGame() {
            beep(440, 100);
            document.getElementById('intro').classList.add('hidden');
            document.getElementById('game').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            if (currentIdx < questions.length) {
                document.getElementById('level-indicator').innerText = questions[currentIdx].l;
                document.getElementById('question-text').innerText = questions[currentIdx].q;
                document.getElementById('answer-input').value = "";
                document.getElementById('answer-input').focus();
            } else {
                document.getElementById('game').classList.add('hidden');
                document.getElementById('final-screen').classList.remove('hidden');
                confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
            }
        }

        function checkAnswer() {
            const val = document.getElementById('answer-input').value;
            if (val === questions[currentIdx].a || val === "-0") {
                currentIdx++;
                beep(880, 50);
                setTimeout(showQuestion, 500);
            } else {
                beep(110, 200);
                document.body.style.backgroundColor = "#330000";
                document.getElementById('game').classList.add('shake');
                setTimeout(() => {
                    document.body.style.backgroundColor = "black";
                    document.getElementById('game').classList.remove('shake');
                }, 500);
            }
        }

        function openSecretPanel() {
            let code = prompt("GİZLİ KOD:");
            if (code === "2015") {
                questions = ultraQuestions;
                currentIdx = 0;
                startGame();
            } else if (code === "2014") {
                questions = normalQuestions;
                currentIdx = 0;
                startGame();
            }
        }

        function exitSystem() {
            document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20%;'>SİSTEM İMHA EDİLDİ</h1>";
            setTimeout(() => { window.close(); }, 2000);
        }
    </script>
</body>
</html>
