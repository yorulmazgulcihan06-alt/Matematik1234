<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEXUS INFINITY | MURAT HOCA VERSÄ°YON</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00f2ff; --gold: #ffca2c; --danger: #ff4757; --bg: #0a0a0c; --murat: #2c3e50; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; user-select: none; }
        body { background: var(--bg); color: white; overflow: hidden; touch-action: manipulation; }

        /* --- BAÅžLATICI --- */
        #launcher { position: fixed; inset: 0; background: black; z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .logo { font-family: 'Orbitron'; font-size: 3rem; color: var(--neon); text-shadow: 0 0 20px var(--neon); margin-bottom: 30px; }
        
        /* --- OYUN DÃœNYASI --- */
        #game-world { width: 100vw; height: 100vh; display: none; flex-direction: column; background-size: cover; background-position: center; transition: 0.8s; }
        
        /* HUD */
        #hud { position: absolute; top: 10px; left: 10px; right: 10px; display: flex; justify-content: space-between; pointer-events: none; z-index: 50; }
        .stat-box { background: rgba(0,0,0,0.8); padding: 10px 20px; border-radius: 10px; border: 1px solid var(--neon); font-family: 'Orbitron'; font-size: 0.7rem; }

        /* ETKÄ°LEÅžÄ°M KATMANI */
        #interaction-layer { flex: 1; position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .teacher-sprite { position: absolute; bottom: 0; height: 85%; transition: 0.5s; filter: drop-shadow(0 0 20px rgba(0,0,0,0.8)); }
        
        /* TAHTA */
        #blackboard { display: none; position: absolute; top: 10%; width: 85%; height: 45%; background: #064e3b; border: 10px solid #451a03; border-radius: 10px; padding: 20px; text-align: center; z-index: 100; box-shadow: inset 0 0 50px rgba(0,0,0,0.8); }
        .chalk { font-family: 'Orbitron'; color: #fff; font-size: 1.2rem; line-height: 1.5; text-shadow: 2px 2px 0px #000; }

        /* AKSÄ°YON BARI */
        #action-bar { height: 220px; background: rgba(15, 15, 20, 0.95); border-top: 3px solid var(--neon); padding: 20px; display: flex; flex-direction: column; align-items: center; }
        #speaker-name { color: var(--gold); font-family: 'Orbitron'; font-weight: 900; margin-bottom: 5px; font-size: 0.9rem; }
        #dialog-text { font-size: 1rem; text-align: center; margin-bottom: 20px; color: #eee; min-height: 3em; }
        .btn-grid { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .btn { padding: 12px 20px; border: 1px solid var(--neon); background: rgba(0, 242, 255, 0.1); color: white; border-radius: 8px; cursor: pointer; font-size: 0.85rem; transition: 0.2s; }
        .btn:hover { background: var(--neon); color: black; }

        /* AI ANALÄ°Z */
        #ai-wait { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 20000; display: none; flex-direction: column; align-items: center; justify-content: center; }
        .radar { width: 100px; height: 100px; border: 5px solid #111; border-top-color: var(--neon); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>

<div id="launcher">
    <div class="logo">NEXUS INFINITY</div>
    <p style="color: #888; margin-bottom: 20px;">Matematik HocasÄ±: Murat Hoca Eklendi</p>
    <div style="display:flex; gap:10px;">
        <button class="btn" onclick="Game.start('PC')">PC BAÅžLAT</button>
        <button class="btn" onclick="Game.start('MOBILE')">MOBÄ°L BAÅžLAT</button>
    </div>
</div>

<div id="ai-wait">
    <div class="radar"></div>
    <h2 style="margin-top:20px; font-family:'Orbitron'">MURAT HOCA ANALÄ°Z EDÄ°YOR...</h2>
    <div id="ai-timer" style="font-size:4rem; color:var(--neon); font-family:'Orbitron'">30</div>
</div>

<div id="game-world">
    <div id="hud">
        <div class="stat-box">ðŸ”‹ ENERJÄ°: <span id="val-energy">100</span></div>
        <div class="stat-box">ðŸ•’ SAAT: <span id="val-time">08:45</span></div>
        <div class="stat-box">ðŸŽ’ DURUM: <span id="val-inv">HazÄ±r</span></div>
    </div>

    <div id="interaction-layer">
        <div id="blackboard">
            <div class="chalk" id="chalk-q">MURAT HOCA TAHTAYA SORUYU YAZIYOR...</div>
        </div>
        <img id="murat-sprite" class="teacher-sprite" src="https://www.pngarts.com/files/1/Cartoon-Teacher-Transparent-Background-PNG.png" style="display:none;">
    </div>

    <div id="action-bar">
        <div id="speaker-name">BÄ°LGÄ°</div>
        <div id="dialog-text">Nexus DÃ¼nyasÄ±na hoÅŸ geldin Utkan. Murat Hoca derse girmek Ã¼zere!</div>
        <div class="btn-grid" id="action-btns"></div>
    </div>
</div>

<script>
const Game = {
    energy: 100,
    time: 525, // 08:45
    scene: "SCHOOL",
    userName: "Utkan",

    start(p) {
        document.getElementById('launcher').style.display = 'none';
        document.getElementById('game-world').style.display = 'flex';
        this.changeScene("SCHOOL");
    },

    changeScene(s) {
        this.scene = s;
        const bar = document.getElementById('action-btns');
        const text = document.getElementById('dialog-text');
        const speaker = document.getElementById('speaker-name');
        const sprite = document.getElementById('murat-sprite');
        const world = document.getElementById('game-world');

        bar.innerHTML = '';
        sprite.style.display = 'none';

        if(s === "SCHOOL") {
            world.style.backgroundImage = "url('https://images.unsplash.com/photo-1580582932707-520aed937b7b?w=1200')";
            speaker.innerText = "SÄ°STEM";
            text.innerText = "Okul koridorundasÄ±n. Murat Hoca'nÄ±n Matematik dersi baÅŸlamak Ã¼zere. HazÄ±r mÄ±sÄ±n?";
            this.addBtn("Derse Gir", () => Game.changeScene("CLASS"));
            this.addBtn("Kantine Git (Vur/Kavga)", () => { alert("Kavgaya karÄ±ÅŸtÄ±n! Enerji -20"); Game.energy -= 20; Game.updateHUD(); });
        } 
        else if(s === "CLASS") {
            world.style.backgroundImage = "url('https://images.unsplash.com/photo-1509062522246-3755977927d7?w=1200')";
            sprite.style.display = 'block';
            speaker.innerText = "MURAT HOCA";
            text.innerText = "GÃ¼naydÄ±n Ã§ocuklar! BugÃ¼n 5. sÄ±nÄ±fÄ±n en Ã¶nemli konusu olan 'Milyonlar' ve 'AÃ§Ä±lar'Ä± iÅŸleyeceÄŸiz. Utkan, neden konuÅŸuyorsun bakayÄ±m?";
            this.addBtn("Ã–zÃ¼r Dile", () => { text.innerText = "Murat Hoca: Tamam, dikkatli ol. Kim tahtaya kalkmak ister?"; Game.addBtn("Parmak KaldÄ±r", () => Game.startOral()); });
            this.addBtn("Not GÃ¶nder (Riskli)", () => { 
                if(Math.random() > 0.5) { alert("Murat Hoca yakaladÄ±! SÃ¶zlÃ¼den 0 aldÄ±n."); Game.changeScene("SCHOOL"); }
                else { alert("BaÅŸarÄ±yla not gÃ¶nderdin!"); }
            });
        }
    },

    startOral() {
        const board = document.getElementById('blackboard');
        const qText = document.getElementById('chalk-q');
        board.style.display = 'block';
        qText.innerText = "SORU: 5'in karesi ile 2'nin kÃ¼pÃ¼nÃ¼n toplamÄ± kaÃ§tÄ±r?\n(5Â² + 2Â³ = ?)";
        
        const bar = document.getElementById('action-btns');
        bar.innerHTML = '';
        this.addBtn("33", () => Game.analyze(true));
        this.addBtn("17", () => Game.analyze(false));
        this.addBtn("29", () => Game.analyze(false));
    },

    analyze(isCorrect) {
        document.getElementById('blackboard').style.display = 'none';
        document.getElementById('ai-wait').style.display = 'flex';
        let time = 30;
        const it = setInterval(() => {
            time--;
            document.getElementById('ai-timer').innerText = time;
            if(time <= 0) {
                clearInterval(it);
                document.getElementById('ai-wait').style.display = 'none';
                alert(isCorrect ? "MURAT HOCA: Aferin Utkan! GÃ¶zÃ¼me girdin. SÃ¶zlÃ¼ Notun: 100" : "MURAT HOCA: Bu olmadÄ± Utkan, daha Ã§ok Ã§alÄ±ÅŸmalÄ±sÄ±n. SÃ¶zlÃ¼: 40");
                Game.changeScene("SCHOOL");
            }
        }, 1000);
    },

    addBtn(t, f) {
        const b = document.createElement('button');
        b.className = 'btn';
        b.innerText = t;
        b.onclick = f;
        document.getElementById('action-btns').appendChild(b);
    },

    updateHUD() {
        document.getElementById('val-energy').innerText = this.energy;
    }
};
</script>
</body>
</html>
