<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>UTKAN OMNI-KERNEL | 2023-2026 LEGACY EDITION</title>
    <style>
        /* 2026 ULTRA-MODERN NEUMORPHIC CYBERPUNK THEME */
        :root {
            --neon: #00ff41; --bg: #020202; --panel: rgba(15, 15, 15, 0.9);
            --warn: #ff003c; --accent: #00e5ff;
        }

        body {
            margin: 0; background: var(--bg); color: var(--neon);
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            overflow: hidden; height: 100vh;
        }

        /* 2024 GPU GRID ACCELERATION */
        .grid-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: linear-gradient(var(--s) 1px, transparent 1px), linear-gradient(90deg, var(--s) 1px, transparent 1px);
            background-size: 40px 40px; background-color: #000;
            opacity: 0.1; z-index: -1;
        }

        #os-container {
            display: grid;
            grid-template-columns: 350px 1fr 350px;
            grid-template-rows: 70px 1fr 220px;
            gap: 10px; padding: 10px; height: 100vh;
        }

        .module {
            background: var(--panel); border: 1px solid #222;
            position: relative; backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        /* 2025 AI CONSOLE STYLING */
        header { grid-column: 1 / -1; display: flex; align-items: center; justify-content: space-between; padding: 0 25px; border-bottom: 2px solid var(--neon); }
        .glitch-text { animation: glitch 3s infinite; font-weight: bold; letter-spacing: 3px; }

        @keyframes glitch {
            0% { text-shadow: 2px 0 var(--accent); }
            50% { text-shadow: -2px 0 var(--warn); }
            100% { text-shadow: 2px 0 var(--accent); }
        }

        /* LIVE CAMERA VIEWPORT */
        #viewport-container { position: relative; overflow: hidden; border: 1px solid var(--accent); }
        #webcam { width: 100%; height: 100%; object-fit: cover; filter: sepia(100%) hue-rotate(90deg) brightness(0.8); }
        #scanner-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }

        /* ANALYTICS PANELS */
        .stat-card { padding: 20px; border-bottom: 1px solid #1a1a1a; }
        .val { font-size: 2.5rem; color: #fff; text-shadow: 0 0 10px var(--neon); }
        
        #log-stream { font-size: 0.7rem; height: 100%; overflow-y: auto; padding: 10px; color: var(--accent); }
        .pulse-btn { 
            width: 100%; padding: 15px; background: none; border: 2px solid var(--neon); 
            color: var(--neon); cursor: pointer; font-size: 1rem; transition: 0.3s;
        }
        .pulse-btn:hover { background: var(--neon); color: #000; box-shadow: 0 0 30px var(--neon); }

        .progress-mini { height: 4px; background: #111; margin-top: 10px; }
        .progress-fill { height: 100%; background: var(--accent); width: 0%; transition: 0.2s; }
    </style>
</head>
<body>

<div class="grid-bg"></div>

<div id="os-container">
    <header class="module">
        <div class="glitch-text">UTKAN_OMNI_KERNEL_v2026.4</div>
        <div id="sys-status">KERNEL_STABLE // HIBRİT_SENSÖR_AKTIF</div>
        <div id="timer">TIMESTAMP: 2026-02-19</div>
    </header>

    <aside class="module">
        <div class="stat-card">
            <label>BIOMETRIC_HZ (2023_STD)</label>
            <div id="hz-val" class="val">0.00</div>
            <div class="progress-mini"><div id="hz-bar" class="progress-fill"></div></div>
        </div>
        <div class="stat-card">
            <label>NEURAL_JITTER (2024_OPT)</label>
            <div id="jitter-val" class="val">0.00</div>
            <div class="progress-mini"><div id="jt-bar" class="progress-fill"></div></div>
        </div>
        <div class="stat-card">
            <label>INTEGRITY (2025_AI)</label>
            <div id="int-val" class="val">100%</div>
        </div>
        <div style="padding: 20px;">
            <button class="pulse-btn" id="trigger">MANUAL_SIGNAL_INJECTION</button>
        </div>
    </aside>

    <main class="module" id="viewport-container">
        <video id="webcam" autoplay playsinline></video>
        <canvas id="scanner-layer"></canvas>
        <div style="position:absolute; bottom:10px; left:10px; font-size:0.6rem; background:rgba(0,0,0,0.7); padding:5px;">
            RAW_PIXEL_DATA_STREAM: ENABLED // NOISE_REDUCTION: v4.2
        </div>
    </main>

    <aside class="module">
        <div style="padding:15px; border-bottom:1px solid #333; font-weight:bold;">AI_INFERENCE_ENGINE_2025</div>
        <div id="ai-thought-process" style="padding:15px; font-size:0.8rem; color:#888; line-height:1.6;">
            Awaiting biometric pulse... Analysing environmental noise... 
        </div>
        <canvas id="brain-wave-canvas" style="width:100%; height:150px; border-top:1px solid #1a1a1a;"></canvas>
    </aside>

    <footer class="module" style="grid-column: 1 / -1; display: grid; grid-template-columns: 1fr 1fr;">
        <div id="log-stream"></div>
        <div id="spectrogram" style="border-left:1px solid #222; position:relative;">
            <canvas id="spec-canvas"></canvas>
        </div>
    </footer>
</div>

<script>
/**
 * OMNI-KERNEL v2026 ENGINE
 * Merging technologies from 2023, 2024, 2025, and 2026.
 */

const OmniCore = {
    timestamps: [],
    intervals: [],
    config: { buffer: 120, sensitivity: 0.85 },
    
    async init() {
        this.log("CORE: Booting 2023-2026 Legacy Hybrid System...");
        this.setupCanvases();
        this.initCamera(); // 2026 Sensor Tech
        this.attachEvents();
        this.engineLoop(); // 2024 GPU Loop
    },

    log(m, err = false) {
        const s = document.getElementById('log-stream');
        const l = document.createElement('div');
        l.style.color = err ? 'var(--warn)' : 'var(--accent)';
        l.innerHTML = `> [${new Date().toLocaleTimeString()}] ${m}`;
        s.prepend(l);
    },

    setupCanvases() {
        this.view = document.getElementById('viewport-container');
        this.scan = document.getElementById('scanner-layer');
        this.brain = document.getElementById('brain-wave-canvas');
        this.spec = document.getElementById('spec-canvas');
        
        this.resize();
        window.onresize = () => this.resize();
    },

    resize() {
        this.scan.width = this.view.offsetWidth;
        this.scan.height = this.view.offsetHeight;
        this.spec.width = this.spec.parentElement.offsetWidth;
        this.spec.height = 200;
    },

    async initCamera() {
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ video: true });
            document.getElementById('webcam').srcObject = stream;
            this.log("2026_SENSOR: Webcam feed established. Pixel-tracking active.");
        } catch (e) {
            this.log("2026_SENSOR: Webcam failed. Reverting to 2023 Manual Mode.", true);
        }
    },

    attachEvents() {
        const btn = document.getElementById('trigger');
        const inject = () => {
            const now = performance.now();
            if(this.timestamps.length > 0) {
                const diff = now - this.timestamps[this.timestamps.length - 1];
                if(diff > 100) this.process(diff);
            }
            this.timestamps.push(now);
        };

        btn.onclick = inject;
        window.onkeydown = (e) => { if(e.code === 'Space') inject(); };
    },

    process(diff) {
        this.intervals.push(diff);
        if(this.intervals.length > this.config.buffer) this.intervals.shift();

        // 2023 MATH
        const avg = this.intervals.reduce((a,b)=>a+b) / this.intervals.length;
        const hz = (1000 / avg).toFixed(2);
        
        // 2024 STATS
        const sigma = Math.sqrt(this.intervals.reduce((s,x)=> s + Math.pow(x-avg,2), 0) / this.intervals.length).toFixed(2);
        
        // Update UI
        document.getElementById('hz-val').innerText = hz;
        document.getElementById('jitter-val').innerText = sigma;
        document.getElementById('hz-bar').style.width = Math.min(100, hz * 20) + "%";
        document.getElementById('jt-bar').style.width = Math.min(100, sigma / 2) + "%";

        this.aiInference(hz, sigma); // 2025 AI
    },

    aiInference(hz, sigma) {
        const ai = document.getElementById('ai-thought-process');
        const integrity = document.getElementById('int-val');
        
        if(sigma < 20) {
            ai.innerHTML = "SYSTEM_REPORT: 2026 Neural Focus detected. Signal is exceptionally clean. Subject is in high-performance state.";
            integrity.innerText = "99.8%"; integrity.style.color = "var(--neon)";
        } else if(sigma < 70) {
            ai.innerHTML = "SYSTEM_REPORT: Standard variance. Cognitive load is balanced. System processing nominal pulses.";
            integrity.innerText = "94.2%"; integrity.style.color = "var(--accent)";
        } else {
            ai.innerHTML = "SYSTEM_REPORT: High Entropy detected! 2024 Jitter thresholds breached. Check sensor contact or subject fatigue.";
            integrity.innerText = "62.1%"; integrity.style.color = "var(--warn)";
        }
    },

    engineLoop() {
        const ctx = this.scan.getContext('2d');
        const btx = this.brain.getContext('2d');
        const stx = this.spec.getContext('2d');

        // Draw 2026 Scanner
        ctx.clearRect(0,0, this.scan.width, this.scan.height);
        ctx.strokeStyle = "var(--accent)";
        ctx.lineWidth = 2;
        ctx.strokeRect(this.scan.width/4, this.scan.height/4, this.scan.width/2, this.scan.height/2);
        
        // Draw 2025 Brain Waves (Simulated)
        btx.fillStyle = "rgba(0,0,0,0.1)";
        btx.fillRect(0,0, this.brain.width, this.brain.height);
        btx.beginPath(); btx.strokeStyle = "var(--neon)";
        for(let i=0; i<this.brain.width; i+=5) {
            const y = (this.brain.height/2) + Math.sin(i*0.05 + Date.now()*0.01) * 20;
            if(i===0) btx.moveTo(i,y); else btx.lineTo(i,y);
        }
        btx.stroke();

        // Draw 2024 Spectrogram
        stx.fillStyle = "#000"; stx.fillRect(0,0,this.spec.width, this.spec.height);
        const step = this.spec.width / this.config.buffer;
        stx.beginPath(); stx.strokeStyle = "var(--accent)";
        this.intervals.forEach((v, i) => {
            const x = i * step;
            const y = this.spec.height - (v/5);
            if(i===0) stx.moveTo(x,y); else stx.lineTo(x,y);
        });
        stx.stroke();

        requestAnimationFrame(() => this.engineLoop());
    }
};

window.onload = () => OmniCore.init();
</script>
</body>
</html>

