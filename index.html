<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nexus Extreme | Utkan Edition</title>
    <style>
        :root { --nexus: #00ff41; --dark: #050505; --warn: #ffcc00; }
        body { margin: 0; background: var(--dark); color: var(--nexus); font-family: 'Courier New', monospace; overflow: hidden; }

        /* ANA PANEL */
        #main-ui { height: 100vh; display: flex; flex-direction: column; padding: 20px; box-sizing: border-box; }

        /* ROBOT GÖRSELİ */
        .ai-visual {
            width: 100px; height: 100px; border: 2px solid var(--nexus); border-radius: 20px;
            margin: 0 auto 15px auto; display: flex; flex-direction: column; justify-content: center; align-items: center;
            box-shadow: 0 0 20px var(--nexus); position: relative;
        }
        .eye { width: 15px; height: 15px; background: var(--nexus); border-radius: 50%; display: inline-block; margin: 5px; }
        .mouth { width: 40px; height: 4px; background: var(--nexus); margin-top: 10px; transition: 0.1s; }
        .talking .mouth { height: 15px; border-radius: 50%; }

        /* BUTONLAR */
        .btn-container { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .action-btn { 
            background: transparent; border: 1px solid var(--nexus); color: var(--nexus); 
            padding: 15px; cursor: pointer; font-weight: bold; font-size: 12px;
        }
        .action-btn:active { background: var(--nexus); color: #000; }

        /* HESAP MAKİNESİ (GÖRSELDEKİ GİBİ) */
        #calc-overlay {
            display: none; position: fixed; inset: 0; background: #fff; z-index: 20000;
            flex-direction: column; color: #000; font-family: sans-serif;
        }
        .calc-display { height: 30%; background: #f4f4f4; text-align: right; padding: 40px 20px; font-size: 48px; }
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); height: 70%; }
        .calc-btn { border: 1px solid #eee; display: flex; justify-content: center; align-items: center; font-size: 24px; background: #fff; }
        .calc-btn.orange { color: #ff9500; }

        /* SORU ALANI */
        #quest-box { 
            flex-grow: 1; border: 1px dashed var(--nexus); margin: 15px 0; 
            padding: 15px; display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; font-size: 18px;
        }
        #ans-input { 
            background: #000; border: 1px solid var(--warn); color: var(--warn); 
            padding: 10px; width: 100%; text-align: center; font-size: 20px; margin-top: 10px;
        }
    </style>
</head>
<body>

<div id="main-ui">
    <div class="ai-visual" id="robot">
        <div style="display:flex;">
            <div class="eye"></div>
            <div class="eye"></div>
        </div>
        <div class="mouth" id="mouth"></div>
    </div>

    <div id="quest-box">
        <div id="q-text">Soru üretmek için bir konuya tıkla Utkan!</div>
        <input type="number" id="ans-input" placeholder="Cevabın?">
    </div>

    <div class="btn-grid">
        <div class="btn-container">
            <button class="action-btn" onclick="generateProblem('cebir')">CEBİR SINAVI</button>
            <button class="action-btn" onclick="openCalc()">HESAP MAKİNESİ</button>
            <button class="action-btn" onclick="generateProblem('geo')">GEOMETRİ PROB.</button>
            <button class="action-btn" onclick="generateProblem('prob')">OLASILIK TESTİ</button>
        </div>
        <button class="action-btn" style="width:100%; margin-top:10px; border-color:var(--warn); color:var(--warn);" onclick="checkAns()">CEVABI KONTROL ET</button>
    </div>
</div>

<div id="calc-overlay">
    <div style="padding: 10px; font-weight: bold; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between;">
        <span>Hesaplayıcı</span>
        <span onclick="closeCalc()" style="color:red; cursor:pointer;">KAPAT [X]</span>
    </div>
    <div class="calc-display">0</div>
    <div class="calc-grid">
        <div class="calc-btn orange">AC</div><div class="calc-btn orange">⌫</div><div class="calc-btn orange">%</div><div class="calc-btn orange">÷</div>
        <div class="calc-btn">7</div><div class="calc-btn">8</div><div class="calc-btn">9</div><div class="calc-btn orange">×</div>
        <div class="calc-btn">4</div><div class="calc-btn">5</div><div class="calc-btn">6</div><div class="calc-btn orange">-</div>
        <div class="calc-btn">1</div><div class="calc-btn">2</div><div class="calc-btn">3</div><div class="calc-btn orange">+</div>
        <div class="calc-btn">π</div><div class="calc-btn">0</div><div class="calc-btn">,</div><div class="calc-btn" style="background:#ff9500; color:#fff;">=</div>
    </div>
</div>

<script>
    let currentAns = 0;
    const robot = document.getElementById('robot');
    const mouth = document.getElementById('mouth');

    function speak(text) {
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'tr-TR';
        msg.onstart = () => robot.classList.add('talking');
        msg.onend = () => robot.classList.remove('talking');
        window.speechSynthesis.cancel();
        window.speechSynthesis.speak(msg);
    }

    function generateProblem(type) {
        let q = "";
        let a = Math.floor(Math.random() * 20) + 5;
        let b = Math.floor(Math.random() * 10) + 2;

        if(type === 'cebir') {
            q = `Denklem: 4x - ${a} = ${4 * b - a}. x kaçtır?`;
            currentAns = b;
        } else if(type === 'geo') {
            q = `Bir dikdörtgenin alanı ${a * b} ve kısa kenarı ${b} ise uzun kenarı kaçtır?`;
            currentAns = a;
        } else if(type === 'prob') {
            q = `Bir torbada 3 kırmızı, ${b} mavi top var. Rastgele çekilen topun mavi olma olasılığı paydası kaçtır?`;
            currentAns = 3 + b;
        }
        
        document.getElementById('q-text').innerText = q;
        speak("Yeni problem oluşturuldu: " + q);
    }

    function checkAns() {
        const user = document.getElementById('ans-input').value;
        if(user == currentAns) {
            speak("Harika Utkan! Doğru cevap.");
            document.getElementById('q-text').innerText = "DOĞRU! Yeni soruya geçebilirsin.";
        } else {
            speak("Hatalı sonuç. Tekrar dene.");
        }
    }

    function openCalc() { document.getElementById('calc-overlay').style.display = 'flex'; }
    function closeCalc() { document.getElementById('calc-overlay').style.display = 'none'; }
</script>
</body>
</html>
