<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS ACADEMY | KANKA AI EDITION</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --meb: #005596; --eba: #ff6600; --zor: #e30613; --kanka: #22c55e; --bg: #f1f5f9; }
        body { margin: 0; background: var(--bg); font-family: 'Inter', sans-serif; }
        
        /* Gƒ∞Rƒ∞≈û VE GALERƒ∞ */
        #login-page { height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; background: var(--meb); color: white; }
        .gallery-strip { display: flex; gap: 10px; margin-top: 20px; overflow-x: auto; width: 80%; padding: 10px; }
        .gal-card { min-width: 150px; height: 100px; background: #fff; border-radius: 10px; overflow: hidden; position: relative; }
        .gal-card img { width: 100%; height: 100%; object-fit: cover; }

        /* ANA PANEL */
        #app { display: none; padding: 20px; }
        .header { display: flex; justify-content: space-between; background: white; padding: 20px; border-radius: 20px; border-bottom: 4px solid var(--eba); }
        
        /* Kƒ∞TAP Sƒ∞STEMƒ∞ */
        .book-container { background: white; border-radius: 20px; padding: 20px; margin-top: 20px; max-height: 500px; overflow-y: auto; }
        .topic { background: #f8fafc; padding: 15px; margin: 5px 0; cursor: pointer; border-radius: 10px; font-weight: 600; border: 1px solid #e2e8f0; }
        .topic:hover { background: var(--meb); color: white; }
        .content-area { display: none; padding: 15px; background: #fff; border-left: 3px solid var(--meb); margin-bottom: 10px; font-size: 14px; }

        /* SINAV KAƒûIDI */
        #exam-sheet { display: none; position: fixed; inset: 0; background: #fff; z-index: 3000; padding: 30px; flex-direction: column; }
        .q-row { background: #f9fafb; padding: 20px; border-radius: 15px; margin-bottom: 15px; border-left: 5px solid var(--meb); }
        
        /* KANKA AI */
        #kanka-box { position: fixed; bottom: 20px; right: 20px; width: 250px; background: var(--kanka); color: white; padding: 15px; border-radius: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.2); display: none; z-index: 4000; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        .btn { padding: 12px 25px; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-meb { background: var(--meb); color: white; }
        .btn-exit { background: var(--zor); color: white; }
    </style>
</head>
<body>

    <div id="login-page">
        <h1 style="font-family: 'Orbitron'">NEXUS ACADEMY</h1>
        <div style="background: white; padding: 30px; border-radius: 25px; width: 300px;">
            <input type="text" id="tc" placeholder="√ñƒürenci No (2015)" style="width:90%; padding:10px; margin-bottom:10px; border-radius:8px; border:1px solid #ddd;">
            <button class="btn btn-meb" style="width:100%" onclick="login()">Sƒ∞STEME BAƒûLAN</button>
        </div>
        <div class="gallery-strip">
            <div class="gal-card"><img src="https://picsum.photos/200/100?random=1"></div>
            <div class="gal-card"><img src="https://picsum.photos/200/100?random=2"></div>
            <div class="gal-card"><img src="https://picsum.photos/200/100?random=3"></div>
            <div class="gal-card"><img src="https://picsum.photos/200/100?random=4"></div>
        </div>
        <p style="font-size:12px; margin-top:10px;">MEB Eƒüitim Materyalleri Ar≈üivi v23</p>
    </div>

    <div id="app">
        <div class="header">
            <div><b>S√∂zl√º:</b> <span id="sozlu">100</span></div>
            <div><b>XP:</b> <span id="xp">0</span></div>
            <button class="btn btn-meb" onclick="toggleBook()">üìö Kitap & Konular</button>
        </div>

        <div id="book" class="book-container" style="display:none;">
            <h3>üîç Konu Ar≈üivi (1000 Sayfa/Konu)</h3>
            <div id="topics-list"></div>
        </div>

        <div style="text-align: center; margin-top: 50px;">
            <h2>Sƒ±nav Salonu</h2>
            <div style="display: flex; justify-content: center; gap: 15px;">
                <button class="btn btn-meb" onclick="openExam('Matematik')">Matematik</button>
                <button class="btn btn-meb" style="background:var(--eba)" onclick="openExam('Fen')">Fen Bilimleri</button>
            </div>
        </div>
    </div>

    <div id="exam-sheet">
        <div style="display:flex; justify-content:space-between;">
            <h2 id="exam-title"></h2>
            <button class="btn btn-exit" onclick="exitExam()">Sƒ±navdan Ka√ß (Ceza Alƒ±rsƒ±n!)</button>
        </div>
        <div id="exam-body" style="overflow-y:auto; flex:1; padding-right:10px;"></div>
        <button class="btn btn-meb" style="background:var(--kanka); margin-top:10px;" onclick="kankaHelp()">ü§ñ Kanka AI'dan Yardƒ±m ƒ∞ste</button>
        <button class="btn btn-meb" style="margin-top:10px;" onclick="submitExam()">Sƒ±navƒ± Bitir</button>
    </div>

    <div id="kanka-box" id="kanka-msg">
        <b>Kanka AI:</b> <span id="kanka-text">Sakin ol Utkan, bu soruda ≈üunu d√º≈ü√ºn...</span>
    </div>

    <script>
        let xp = 0, sozlu = 100, currentAns = [], examDers = "";

        function login() {
            if(document.getElementById('tc').value === "2015") {
                document.getElementById('login-page').style.display = 'none';
                document.getElementById('app').style.display = 'block';
                genTopics();
            }
        }

        function genTopics() {
            const list = document.getElementById('topics-list');
            for(let i=1; i<=100; i++) { // √ñrnek olarak 100 konu (geni≈ületilebilir)
                list.innerHTML += `
                    <div class="topic" onclick="toggleTopic(${i})">Konu ${i}: Eƒüitimde Yeni Nesil Yakla≈üƒ±mlar</div>
                    <div id="content-${i}" class="content-area">Bu b√∂l√ºm ${i}. √ºnitenin detaylƒ± bilgilerini ve MEB m√ºfredat notlarƒ±nƒ± i√ßerir. √áalƒ±≈ümaya devam et Utkan!</div>
                `;
            }
        }

        function toggleTopic(id) {
            let el = document.getElementById('content-'+id);
            el.style.display = el.style.display === 'block' ? 'none' : 'block';
        }

        function toggleBook() {
            let b = document.getElementById('book');
            b.style.display = b.style.display === 'none' ? 'block' : 'none';
        }

        function openExam(ders) {
            examDers = ders;
            currentAns = [];
            const body = document.getElementById('exam-body');
            body.innerHTML = "";
            document.getElementById('exam-title').innerText = ders + " - B√∂l√ºm Sonu Sƒ±navƒ±";
            
            for(let i=0; i<10; i++) {
                let a = Math.floor(Math.random()*20) + 10;
                let b = Math.floor(Math.random()*10) + 2;
                let ans = a * b;
                currentAns.push(ans);
                body.innerHTML += `
                    <div class="q-row">
                        <p><b>Soru ${i+1}:</b> ${a} x ${b} i≈üleminin sonucu nedir?</p>
                        <input type="number" id="ans-${i}" class="exam-input" placeholder="Cevap">
                    </div>
                `;
            }
            document.getElementById('exam-sheet').style.display = 'flex';
        }

        function kankaHelp() {
            const box = document.getElementById('kanka-box');
            const txt = document.getElementById('kanka-text');
            box.style.display = 'block';
            txt.innerText = "Bak kanka, ilk sorunun cevabƒ± " + currentAns[0] + " ama diƒüerlerini sen bulmalƒ±sƒ±n, hoca g√∂rmesin! üòâ";
            setTimeout(() => { box.style.display = 'none'; }, 5000);
        }

        function exitExam() {
            let filled = 0;
            for(let i=0; i<10; i++) { if(document.getElementById('ans-'+i).value !== "") filled++; }

            if(filled === 0) { sozlu -= 10; alert("Kaƒüƒ±dƒ± bo≈ü bƒ±raktƒ±n! S√∂zl√ºden 10 puan gitti."); }
            else if(filled < 5) { sozlu -= 5; alert("Yarƒ±sƒ±nƒ± bile yapmadƒ±n! S√∂zl√ºden 5 puan gitti."); }
            
            document.getElementById('sozlu').innerText = sozlu;
            document.getElementById('exam-sheet').style.display = 'none';
        }

        function submitExam() {
            let correct = 0;
            let empty = false;
            for(let i=0; i<10; i++) {
                let val = document.getElementById('ans-'+i).value;
                if(val == "") empty = true;
                if(parseInt(val) === currentAns[i]) correct++;
            }

            if(correct === 0) {
                alert("Hi√ß doƒüru cevabƒ±n yok, XP kazanamadƒ±n!");
            } else {
                let earnedXP = correct * 50;
                xp += earnedXP;
                document.getElementById('xp').innerText = xp;
                alert("Aferin! " + correct + " doƒüru ile " + earnedXP + " XP kazandƒ±n.");
            }
            document.getElementById('exam-sheet').style.display = 'none';
        }
    </script>
</body>
</html>

