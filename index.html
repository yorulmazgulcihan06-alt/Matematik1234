<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS V31 | Matematik & Sosyal AI</title>
    <style>
        :root { --p: #2563eb; --s: #10b981; --d: #0f172a; --r: #f85149; --g: #fbbf24; }
        body { margin: 0; background: var(--d); color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; }

        /* ğŸ†” GÄ°RÄ°Å EKRANI */
        #login-screen {
            position: fixed; inset: 0; background: radial-gradient(circle, #1e293b 0%, #0a0c10 100%);
            z-index: 10000; display: flex; align-items: center; justify-content: center; flex-direction: column;
        }
        .login-card { background: #161b22; padding: 40px; border-radius: 25px; border: 1px solid #30363d; text-align: center; }
        input { padding: 15px; border-radius: 12px; border: 1px solid #30363d; background: #0d1117; color: white; width: 280px; margin: 15px 0; outline: none; font-size: 16px; }

        /* ğŸ  ANA SAYFA */
        .page { display: none; width: 100%; height: 100vh; padding: 20px; box-sizing: border-box; }
        #home-page { display: block; text-align: center; }

        /* ğŸ‘¤ PROFÄ°L PANELÄ° (AÅAÄIDAN AÃ‡ILAN) */
        #profile-panel {
            position: fixed; bottom: -100%; left: 0; width: 100%; height: 70%;
            background: #161b22; border-radius: 30px 30px 0 0; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 2000; padding: 30px; border-top: 3px solid var(--p); box-shadow: 0 -10px 40px rgba(0,0,0,0.5);
        }
        .profile-content { text-align: center; }
        .iq-badge { font-size: 40px; font-weight: 900; color: var(--s); margin: 10px 0; }

        /* ğŸ“ MATEMATÄ°K MODÃœLLERÄ° */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 30px; }
        .btn { background: #1e293b; color: white; border: 1px solid #334155; padding: 25px; border-radius: 20px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn:hover { background: var(--p); transform: translateY(-5px); }

        /* ğŸ¤– AI ANLATIM PENCERESÄ° */
        #ai-window {
            position: fixed; top: 10%; left: 5%; width: 90%; height: 70%;
            background: #000; border-radius: 25px; display: none; border: 2px solid var(--s);
            z-index: 3000; flex-direction: column; overflow: hidden;
        }

        /* ğŸ“ SORU EKRANI */
        #q-box { background: #1e293b; padding: 20px; border-radius: 20px; margin-top: 20px; display: none; border: 1px solid var(--p); }

        /* ğŸ“± ALT MENÃœ */
        .nav { position: fixed; bottom: 0; width: 100%; height: 75px; background: #161b22; display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #334155; }
        .nav-item { cursor: pointer; text-align: center; font-size: 11px; color: #8b949e; }
        .nav-item.active { color: var(--p); }

        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-card">
            <h1>NEXUS CORE</h1>
            <input type="text" id="user-in" placeholder="AdÄ±nÄ±z SoyadÄ±nÄ±z...">
            <button onclick="login()" style="width:100%; padding:15px; background:var(--s); color:white; border:none; border-radius:12px; font-weight:bold; cursor:pointer;">SÄ°STEME GÄ°RÄ°Å YAP</button>
        </div>
    </div>

    <div id="home-page" class="page">
        <h2 style="color:var(--p)">ğŸ“ Matematik ModÃ¼lleri</h2>
        <div class="grid">
            <button class="btn" onclick="openAI('Kesirler')">ğŸ° Kesirler<br>AnlatÄ±mÄ±</button>
            <button class="btn" onclick="openAI('Geometri')">ğŸ“ Geometri<br>AnlatÄ±mÄ±</button>
            <button class="btn" onclick="askGrade('Ä°ÅŸlem')">â• Ä°ÅŸlem<br>Ã‡Ã¶z</button>
            <button class="btn" onclick="askGrade('Problem')">ğŸ§  Problem<br>Ã‡Ã¶z</button>
        </div>

        <div id="q-box">
            <h3 id="q-text">Soru YÃ¼kleniyor...</h3>
            <input type="number" id="q-ans" placeholder="CevabÄ±nÄ±z..." style="width:80%; margin-bottom:10px;">
            <button onclick="checkAnswer()" style="width:85%; padding:12px; background:var(--s); border:none; color:white; border-radius:10px;">CevabÄ± Onayla</button>
        </div>
    </div>

    <div id="social-page" class="page">
        <h1>ğŸ‘¥ ArkadaÅŸlar</h1>
        <div id="friends-list" style="margin-top:20px;">
            <div style="background:#161b22; padding:20px; border-radius:15px; border:1px solid #334155;">ğŸ‘¤ Demir (NXS-1002)</div>
        </div>
        <button onclick="addFriend()" style="position:fixed; bottom:90px; right:30px; width:60px; height:60px; border-radius:50%; background:var(--s); color:white; border:none; font-size:30px;">+</button>
    </div>

    <div id="profile-panel">
        <div class="profile-content">
            <div id="privacy-badge" style="background:#334155; padding:5px 15px; border-radius:20px; display:inline-block; font-size:12px; margin-bottom:10px;">ğŸ”’ Gizli Profil</div>
            <h2 id="p-name" style="margin:0;">Ä°sim Soyisim</h2>
            <p style="color:#8b949e">ID: <span id="p-id" style="color:var(--p)"></span></p>
            <div class="iq-badge"><span id="p-iq">120</span> <small style="font-size:15px">IQ</small></div>
            <p id="p-status" style="font-size:14px; color:#8b949e">Matematik UstasÄ± Yolunda...</p>
            <button onclick="closeProfile()" style="margin-top:20px; padding:10px 30px; background:var(--r); color:white; border:none; border-radius:10px;">Kapat</button>
        </div>
    </div>

    <div id="ai-window">
        <div style="background:var(--s); padding:15px; display:flex; justify-content:space-between; font-weight:bold;">
            <span id="ai-header">Robot Ã–ÄŸretmen</span>
            <span onclick="closeAI()" style="cursor:pointer">âœ–</span>
        </div>
        <div style="flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:20px;">
            <div style="font-size:80px; animation: float 2s infinite ease-in-out">ğŸ¤–</div>
            <h3 id="robot-status">Ders HazÄ±rlanÄ±yor...</h3>
            <p id="robot-speech" style="text-align:center; color:#8b949e"></p>
        </div>
    </div>

    <div class="nav">
        <div class="nav-item" onclick="showPage('home-page')">ğŸ <br>Ana Sayfa</div>
        <div class="nav-item" onclick="showPage('social-page')">ğŸ‘¥<br>ArkadaÅŸlar</div>
        <div class="nav-item" onclick="handleProfileClick()">ğŸ‘¤<br>Profil</div>
        <div class="nav-item" onclick="adminAccess()">ğŸ›¡ï¸<br>Yetki</div>
    </div>

    <script>
        // TÃ¼m kullanÄ±cÄ± verilerini saklayan obje
        let user = { 
            name: "", 
            id: "", 
            iq: 120, 
            privacy: "NONE", 
            firstProfile: true, 
            solved: new Set(),
            grade: "",
            ans: null,
            qKey: ""
        };

        // GÄ°RÄ°Å FONKSÄ°YONU (DÃœZELTÄ°LDÄ°)
        function login() {
            const inputVal = document.getElementById('user-in').value;
            if(inputVal.trim() !== "") {
                user.name = inputVal;
                user.id = "NXS-" + Math.floor(Math.random() * 9000 + 1000);
                
                // Profil verilerini gÃ¼ncelle
                document.getElementById('p-name').innerText = user.name;
                document.getElementById('p-id').innerText = user.id;
                
                // GiriÅŸ ekranÄ±nÄ± gizle ve ana sayfayÄ± gÃ¶ster
                document.getElementById('login-screen').style.display = 'none';
                showPage('home-page');
            } else {
                alert("LÃ¼tfen bir isim giriniz!");
            }
        }

        // SAYFA DEÄÄ°ÅTÄ°RME FONKSÄ°YONU
        function showPage(id) {
            // TÃ¼m sayfalarÄ± gizle
            document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
            // Ä°stenen sayfayÄ± gÃ¶ster
            document.getElementById(id).style.display = 'block';
        }

        // PROFÄ°L TIKLAMA VE GÄ°ZLÄ°LÄ°K SEÃ‡Ä°MÄ°
        function handleProfileClick() {
            if(user.firstProfile) {
                let choice = confirm("ğŸ›¡ï¸ GÄ°ZLÄ°LÄ°K AYARI\n\nProfilini herkes gÃ¶rebilsin mi?\nTamam: Evet, Herkes GÃ¶rsÃ¼n\nÄ°ptal: HayÄ±r, Sadece ArkadaÅŸlar");
                user.privacy = choice ? "PUBLIC" : "PRIVATE";
                document.getElementById('privacy-badge').innerText = choice ? "ğŸŒ Herkese AÃ§Ä±k" : "ğŸ”’ Gizli Profil";
                user.firstProfile = false;
            }
            document.getElementById('profile-panel').style.bottom = "0";
        }

        function closeProfile() { document.getElementById('profile-panel').style.bottom = "-100%"; }

        // AI DERS ANLATIMI
        function openAI(konu) {
            document.getElementById('ai-window').style.display = 'flex';
            document.getElementById('ai-header').innerText = konu + " AnlatÄ±mÄ±";
            document.getElementById('robot-status').innerText = "Ders BaÅŸladÄ±!";
            document.getElementById('robot-speech').innerText = `Merhaba ${user.name}, ÅŸimdi seninle ${konu} konusunu iÅŸliyoruz.`;
            
            const u = new SpeechSynthesisUtterance(`${konu} konusu anlatÄ±lÄ±yor. Beni dikkatle dinle Utkan.`);
            u.lang = 'tr-TR'; 
            window.speechSynthesis.speak(u);
        }

        function closeAI() { 
            document.getElementById('ai-window').style.display = 'none'; 
            window.speechSynthesis.cancel(); 
        }

        // SORU SÄ°STEMÄ°
        function askGrade(type) {
            let g = prompt("KaÃ§Ä±ncÄ± sÄ±nÄ±fsÄ±n? (5, 6, 7, 8, Lise, Ãœniversite)");
            if(g) {
                user.grade = g;
                generateQuestion(type);
            }
        }

        function generateQuestion(type) {
            document.getElementById('q-box').style.display = 'block';
            let a = Math.floor(Math.random()*100);
            let b = Math.floor(Math.random()*100);
            let qText = `${user.grade}. SÄ±nÄ±f ${type}: ${a} + ${b} kaÃ§tÄ±r?`;
            
            // EÄŸer soru daha Ã¶nce Ã§Ã¶zÃ¼ldÃ¼yse yenisini Ã¼ret
            if(user.solved.has(qText)) {
                return generateQuestion(type);
            }
            
            document.getElementById('q-text').innerText = qText;
            user.ans = a + b;
            user.qKey = qText;
        }

        function checkAnswer() {
            let inputAns = document.getElementById('q-ans').value;
            if(inputAns == user.ans) {
                alert("âœ… DoÄŸru! IQ KazandÄ±n.");
                user.iq += 5;
                document.getElementById('p-iq').innerText = user.iq;
                user.solved.add(user.qKey);
                generateQuestion("Ä°ÅŸlem");
            } else { 
                alert("âŒ YanlÄ±ÅŸ! Tekrar dene."); 
            }
            document.getElementById('q-ans').value = "";
        }

        // YETKÄ° PANELÄ°
        function adminAccess() {
            let k = prompt("EriÅŸim Kodu:");
            if(k === "UtkanNexus2024") {
                alert("ğŸ‘‘ Yetki OnaylandÄ±: HoÅŸ geldin Kurucu Utkan Sancak!");
            } else {
                alert("HatalÄ± kod!");
            }
        }

        // ARKADAÅ EKLEME
        function addFriend() {
            let fid = prompt("ArkadaÅŸ ID'si gir:");
            if(fid) {
                const list = document.getElementById('friends-list');
                list.innerHTML += `<div style="background:#161b22; padding:20px; border-radius:15px; border:1px solid #334155; margin-top:10px;">ğŸ‘¤ ${fid} (NXS-LIST)</div>`;
                alert("Ä°stek gÃ¶nderildi!");
            }
        }
    </script>
</body>
</html>

