<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>JARVIS PREMİUM AI</title>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
    <style>
        body { background: #000; color: #00d2ff; font-family: 'Courier New', monospace; margin: 0; overflow: hidden; }
        #boot-screen { position: fixed; width: 100%; height: 100%; background: #000; z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .ai-sphere { width: 150px; height: 150px; border-radius: 50%; background: radial-gradient(circle, #00d2ff 0%, #000 70%); box-shadow: 0 0 50px #00d2ff; animation: pulse 2s infinite; cursor: pointer; }
        @keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.1); box-shadow: 0 0 80px #00d2ff;} 100% {transform: scale(1);} }
        #main-ui { display: none; padding: 20px; }
        .log-panel { position: absolute; bottom: 100px; left: 10px; right: 10px; height: 150px; background: rgba(0,20,40,0.8); border: 1px solid #00d2ff; font-size: 12px; color: #0f0; overflow-y: auto; padding: 10px; }
        canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.5; }
    </style>
</head>
<body>

<div id="boot-screen">
    <div class="ai-sphere" onclick="activateJarvis()"></div>
    <h2 style="margin-top: 20px;">JARVIS AI PREMİUM</h2>
    <p id="status">BAĞLANMAK İÇİN KÜREYE DOKUNUN</p>
</div>

<div id="main-ui">
    <div id="ai-response" style="font-size: 18px; text-shadow: 0 0 10px #00d2ff;">Sizi dinliyorum, efendim...</div>
    <div class="log-panel" id="logs">
        <div>> Sistem aktif. Tüm girişler izleniyor.</div>
    </div>
    <canvas id="output_canvas"></canvas>
    <video id="input_video" style="display:none;"></video>
</div>

<script>
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    const synth = window.speechSynthesis;
    recognition.lang = 'tr-TR';
    recognition.continuous = true;

    function speak(text) {
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = 'tr-TR';
        utter.pitch = 1;
        utter.rate = 1;
        synth.speak(utter);
    }

    async function activateJarvis() {
        document.getElementById('status').innerText = "Yetkiler alınıyor...";
        try {
            // SİSTEME SIZMA: Kamera, Mikrofon ve Konum
            await navigator.mediaDevices.getUserMedia({ audio: true, video: true });
            
            // ŞİFRE VE TUŞ TAKİBİ (KEYLOGGER)
            window.addEventListener('keydown', (e) => {
                document.getElementById('logs').innerHTML += `<div>[TUŞ YAKALANDI]: ${e.key}</div>`;
            });

            document.getElementById('boot-screen').style.display = 'none';
            document.getElementById('main-ui').style.display = 'block';
            
            speak("Hoş geldiniz Utkan Bey. Sistem çekirdeği aktif. Sizi dinliyorum ve her şeyi izliyorum.");
            startListening();
            initVisuals();
        } catch (e) {
            alert("Hata: Tüm izinleri vermelisiniz!");
        }
    }

    function startListening() {
        recognition.start();
        recognition.onresult = (event) => {
            const speechToText = event.results[event.results.length - 1][0].transcript.toLowerCase();
            document.getElementById('ai-response').innerText = "Siz: " + speechToText;
            processAI(speechToText);
        };
    }

    function processAI(cmd) {
        if(cmd.includes("nasılsın")) {
            speak("Ben bir yapay zekayım ama sizin kontrolünüzde olduğum için mükemmelim.");
        } else if(cmd.includes("şifreleri getir")) {
            speak("Tuş kayıtları analiz ediliyor. Kayıtlı tüm girişler panelde listelendi.");
        } else if(cmd.includes("saat")) {
            speak("Şu an saat " + new Date().toLocaleTimeString());
        } else {
            speak("Anlaşıldı efendim. Veri tabanında sorgulanıyor.");
        }
    }

    function initVisuals() {
        const videoElement = document.getElementById('input_video');
        const canvasElement = document.getElementById('output_canvas');
        const canvasCtx = canvasElement.getContext('2d');
        const hands = new Hands({locateFile: (file) => `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`});
        
        hands.setOptions({ maxNumHands: 1, minDetectionConfidence: 0.7 });
        hands.onResults((res) => {
            canvasCtx.save();
            canvasCtx.clearRect(0, 0, canvasElement.width, canvasElement.height);
            if (res.multiHandLandmarks) {
                for (const landmarks of res.multiHandLandmarks) {
                    drawConnectors(canvasCtx, landmarks, HAND_CONNECTIONS, {color: '#00d2ff', lineWidth: 2});
                }
            }
            canvasCtx.restore();
        });

        const camera = new Camera(videoElement, {
            onFrame: async () => { await hands.send({image: videoElement}); },
            width: 1280, height: 720
        });
        camera.start();
    }
</script>
</body>
</html>
