<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS V75 | Utkan OS</title>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>
    <style>
        :root { --p: #3b82f6; --s: #10b981; --d: #080c14; --r: #ef4444; --b: #161b22; --y: #fbbf24; --tr: #da291c; }
        body { margin: 0; background: var(--d); color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; transition: 0.5s; }
        
        /* ADMIN PANEL VE TERMINAL */
        #admin-terminal { background: #000; border: 2px solid var(--r); padding: 15px; border-radius: 15px; margin-bottom: 20px; display: none; box-shadow: 0 0 20px var(--r); }
        .page { display: none; width: 100%; height: 100vh; padding: 20px; box-sizing: border-box; overflow-y: auto; padding-bottom: 100px; }
        .card { background: var(--b); padding: 15px; border-radius: 15px; margin-bottom: 15px; border: 1px solid #30363d; position: relative; }
        
        /* BUTONLAR VE ETKÄ°LEÅÄ°M */
        .btn { width: 100%; padding: 12px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; color: white; margin-top: 10px; background: var(--p); transition: 0.3s; }
        .btn:active { transform: scale(0.95); }
        .option { background: #0d1117; padding: 14px; margin: 10px 0; border-radius: 12px; border: 1px solid #334155; cursor: pointer; text-align: center; }

        /* ONARIM EKRANI (KARARTMA) */
        #repair-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 900000; pointer-events: none; transition: 0.5s; }
        .repair-active { box-shadow: 0 0 30px var(--y) !important; border: 3px solid var(--y) !important; animation: pulse 0.8s infinite !important; z-index: 999999 !important; position: relative !important; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* SÄ°STEM EKRANLARI */
        #overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 100000; display: none; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        #login-screen { position: fixed; inset: 0; background: var(--d); z-index: 50000; display: flex; align-items: center; justify-content: center; }
        .nav { position: fixed; bottom: 0; width: 100%; height: 80px; background: #0f172a; display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #334155; z-index: 1000; }
        
        /* ANÄ°MASYONLAR */
        .hacking { animation: shake 0.2s infinite; color: lime !important; }
        @keyframes shake { 0% { transform: translate(1px, 1px); } 50% { transform: translate(-1px, -2px); } 100% { transform: translate(1px, -1px); } }
        .frozen { pointer-events: none; filter: grayscale(1) blur(2px); }
    </style>
</head>
<body>

    <div id="repair-overlay">
        <div style="position:absolute; top:40px; left:50%; transform:translateX(-50%); color:var(--y); font-weight:bold; text-align:center; width:100%;">
            <h1 style="margin:0; font-size:40px;">âš¡ AI SYSTEM REPAIR</h1>
            <p style="font-size:20px;">Sorunlu modÃ¼lÃ¼ seÃ§in, Gemini onarsÄ±n!</p>
        </div>
    </div>

    <div id="overlay">
        <h1 id="ov-icon" style="font-size: 100px; margin:0;">âš–ï¸</h1>
        <h2 id="ov-title">HAKÄ°M KARARI</h2>
        <p id="ov-msg">Sistem suistimali tespit edildi.</p>
        <button onclick="location.reload()" class="btn" style="width:200px;">SÄ°STEMÄ° YENÄ°LE</button>
    </div>

    <div id="login-screen">
        <div class="card" style="width: 320px; text-align: center; border-color: var(--p);">
            <h1 style="color:var(--p); margin-bottom:5px;">NEXUS V75</h1>
            <p style="font-size:10px; color:gray;">Utkan UlaÅŸ Yorulmaz Â© 2026</p>
            <input type="text" id="user-in" placeholder="Kod veya AdÄ±n..." style="width:90%; padding:12px; margin:15px 0; background:#000; border:1px solid #334155; color:white; border-radius:10px;">
            <button onclick="login()" class="btn">SÄ°STEME BAÄLAN</button>
        </div>
    </div>

    <div id="home-page" class="page" style="display:block;">
        <div id="admin-terminal">
            <h4 style="color:var(--r); margin:0 0 10px 0;">ğŸ›¡ï¸ UTKAN ROOT COMMANDS</h4>
            <input type="text" id="cmd-input" placeholder="Komut (Ã¶rn: bildirim:ID:Mesaj)" style="width:90%; padding:10px; background:#111; border:1px solid var(--r); color:white; border-radius:8px;">
            <button onclick="runCommand()" class="btn" style="background:var(--r);">YÃœRÃœT</button>
        </div>
        <div class="card" style="text-align:center;">
            <div style="font-size:50px;">ğŸ‘¤</div>
            <h2 id="u-name">...</h2>
            <p id="u-id" style="color:var(--p); font-weight:bold;">ID: ...</p>
            <p id="u-score" style="color:var(--s); font-size:20px;">Puan: 0</p>
        </div>
    </div>

    <div id="study-page" class="page">
        <h2>ğŸ“š TÃ¼rk EÄŸitim Bulutu</h2>
        <div class="card">
            <p>Bir ders seÃ§ (Sadece TÃ¼rk KanallarÄ±):</p>
            <button class="btn" style="background:#ff0000;" onclick="loadVideo('Matematik')">ğŸ“ Matematik (TonguÃ§)</button>
            <button class="btn" style="background:#34a853;" onclick="loadVideo('Fen')">ğŸ”¬ Fen Bilimleri</button>
            <div id="video-area" style="display:none; margin-top:15px;">
                <h4 id="v-title">YÃ¼kleniyor...</h4>
                <div id="player"></div>
                <div id="game-offer" style="display:none; margin-top:15px; border-top:1px solid var(--y); padding-top:10px;">
                    <p style="color:var(--y);">ğŸ‡¹ğŸ‡· Yoruldun mu? Milli bir oyun molasÄ± ver!</p>
                    <button class="btn" style="background:var(--tr);" onclick="showPage('game-page')">ğŸ•¹ï¸ BAYRAK YARIÅI (BAÅLAT)</button>
                </div>
            </div>
        </div>
    </div>

    <div id="game-page" class="page">
        <div style="text-align:center;">
            <h2 style="color:var(--tr);">ğŸ‡¹ğŸ‡· MÄ°LLÄ° GÃ–REV</h2>
            <div id="game-canvas" class="card" style="height:200px; display:flex; align-items:center; justify-content:center; font-size:24px; border:3px solid var(--tr);">
                ğŸš© BAYRAK YÃœKSELÄ°YOR!
            </div>
            <button onclick="playGame()" class="btn" style="background:var(--tr);">TIKLA VE YÃœKSELT!</button>
            <button onclick="showPage('home-page')" class="btn" style="background:gray;">Kapat</button>
        </div>
    </div>

    <div class="nav">
        <div onclick="showPage('home-page')">ğŸ <br>Profil</div>
        <div onclick="showPage('study-page')">ğŸ“š<br>Ders</div>
        <div onclick="aiRepairTrigger()" style="color:var(--y); font-weight:bold;">ğŸ¤–<br>ONAR</div>
    </div>

    <script>
        const firebaseConfig = { apiKey: "AIzaSy...", databaseURL: "https://nexus-ai..." }; // Buraya kendi configini koy
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        let myData = { name: "", id: "", role: "user", score: 0 };
        let repairMode = false;

        function login() {
            const val = document.getElementById('user-in').value.trim();
            if(val === "utkanpro2026") myData = { name: "Utkan UlaÅŸ Yorulmaz", role: "owner", id: "ADMIN-UTKAN", score: 0 };
            else myData = { name: val, id: "NXS-" + Math.floor(1000 + Math.random() * 9000), role: "user", score: 0 };
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('u-name').innerText = myData.name;
            document.getElementById('u-id').innerText = "ID: " + myData.id;
            if(myData.role === "owner") document.getElementById('admin-terminal').style.display = 'block';
            startListeners();
        }

        // --- ETKÄ°LEÅÄ°MLÄ° ONARIM MODU (HAZIR OL!) ---
        function aiRepairTrigger() {
            repairMode = true;
            const overlay = document.getElementById('repair-overlay');
            overlay.style.display = 'block';
            overlay.style.pointerEvents = 'none';

            // ButonlarÄ± parlat
            document.querySelectorAll('.btn, .nav div').forEach(el => el.classList.add('repair-active'));

            alert("ğŸ¤– Gemini AI: Sistem karartÄ±ldÄ±. Åimdi sorunlu butona dokun!");

            document.body.onclick = (e) => {
                if(!repairMode) return;
                const target = e.target.closest('.btn') || e.target.closest('.nav div');
                if(target) {
                    overlay.style.pointerEvents = 'all';
                    overlay.innerHTML = `<div style="color:white; text-align:center; margin-top:200px;"><h1>âš™ï¸</h1><h2>ONARILIYOR...</h2></div>`;
                    setTimeout(() => {
                        alert("âœ… OnarÄ±m TamamlandÄ±! Sistem optimize edildi.");
                        location.reload();
                    }, 2500);
                }
            };
        }

        // --- SADECE TÃœRK KANALLARI ---
        const vids = {
            "Matematik": [{t:"Milyonlar - TonguÃ§", id:"B_S_fVz-u-k"}, {t:"Kesirler - Rehber Mat", id:"5k-x90iUoF4"}],
            "Fen": [{t:"Ay'Ä±n Evreleri - TonguÃ§", id:"6J6Wj6nEExo"}]
        };
        function loadVideo(d) {
            const v = vids[d][Math.floor(Math.random()*vids[d].length)];
            document.getElementById('video-area').style.display='block';
            document.getElementById('v-title').innerText = "ğŸ‡¹ğŸ‡· " + v.t;
            document.getElementById('player').innerHTML = `<iframe width="100%" height="220" src="https://www.youtube.com/embed/${v.id}" frameborder="0" allowfullscreen></iframe>`;
            setTimeout(()=> { document.getElementById('game-offer').style.display='block'; }, 5000);
        }

        function playGame() {
            myData.score += 10;
            document.getElementById('u-score').innerText = "Puan: " + myData.score;
            document.getElementById('game-canvas').innerText = "ğŸš© RAKIM: " + myData.score + "m";
        }

        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.style.display='none');
            document.getElementById(id).style.display='block';
        }

        function runCommand() {
            const input = document.getElementById('cmd-input').value.trim();
            const [cmd, target, extra] = input.split(":");
            if(cmd === "ban") db.ref('bans/'+target).set(true);
            if(cmd === "bildirim") db.ref('user_notifications/'+target).set({msg: extra});
            if(cmd === "hack") db.ref('user_commands/'+target).set({type: "hack"});
            alert("Komut Ä°letildi!");
            document.getElementById('cmd-input').value = "";
        }

        function startListeners() {
            db.ref('bans/' + myData.id).on('value', s => { if(s.exists()) { document.getElementById('overlay').style.display='flex'; } });
            db.ref('user_notifications/' + myData.id).on('value', s => { if(s.exists()) { alert("MESAJ: " + s.val().msg); db.ref('user_notifications/' + myData.id).remove(); } });
        }
    </script>
</body>
</html>
